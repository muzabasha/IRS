{
    "id": "u4-t5",
    "title": "Searching using Hyperlinks",
    "unitId": "unit-4",
    "slides": [
        {
            "slideNumber": 1,
            "type": "title",
            "title": "Searching using Hyperlinks",
            "subtitle": "The Authority of the Network",
            "content": {
                "text": "The web is more than just text; it is a connectivity graph. Hyperlinks are the 'votes' that tell us which pages are authoritative and which are not.",
                "hook": "It's not just what you say; it's who cites you."
            }
        },
        {
            "slideNumber": 2,
            "type": "standard",
            "title": "PageRank (Google)",
            "content": {
                "definition": "A global ranking algorithm that measures the 'importance' of a page based on the number and quality of links pointing to it.",
                "text": "Logic: A page has high PageRank if it's linked to by many other high-PageRank pages. It models a 'Random Surfer' who eventually jumps to a new page.",
                "hook": "The mathematical foundation of Google's success."
            },
            "formula": {
                "equation": "PR(A) = (1-d) + d \\sum_{T_i \\in B_A} \\frac{PR(T_i)}{C(T_i)}",
                "description": "PageRank algorithm models a random surfer who follows links with probability d, or jumps to a random page with probability (1-d).",
                "terms": [
                    {
                        "symbol": "PR(A)",
                        "meaning": "PageRank score of page A - higher means more authority/importance"
                    },
                    {
                        "symbol": "d",
                        "meaning": "Damping factor (typically 0.85) - probability of following a link vs random jump"
                    },
                    {
                        "symbol": "(1-d)",
                        "meaning": "Random jump probability - ensures all pages have minimum PageRank"
                    },
                    {
                        "symbol": "T_i",
                        "meaning": "The i-th page that links to page A (backlinking page)"
                    },
                    {
                        "symbol": "B_A",
                        "meaning": "Set of all pages that have a link pointing to page A"
                    },
                    {
                        "symbol": "PR(T_i)",
                        "meaning": "PageRank of page T_i - votes are weighted by the voter's own importance"
                    },
                    {
                        "symbol": "C(T_i)",
                        "meaning": "Total number of outgoing links from page T_i - dilutes the vote"
                    },
                    {
                        "symbol": "\\frac{PR(T_i)}{C(T_i)}",
                        "meaning": "Amount of PageRank passed from T_i to A - distributed among all outlinks"
                    }
                ],
                "calculation": {
                    "exampleTitle": "PageRank Iteration Example",
                    "description": "Calculating the PageRank for Page A receiving links from Page B and Page C.",
                    "steps": [
                        {
                            "label": "Gather Voter Data",
                            "formula": "PR(B)=0.5, C(B)=2; PR(C)=0.8, C(C)=1",
                            "note": "B has 2 out-links, C has only 1."
                        },
                        {
                            "label": "Apply Damping Factor",
                            "formula": "(1 - 0.85) = 0.15",
                            "note": "The probability of a random jump to any page."
                        },
                        {
                            "label": "Sum Backlink Authority",
                            "formula": "0.85 \\times (\\frac{0.5}{2} + \\frac{0.8}{1}) = 0.85 \\times 1.05 = 0.8925"
                        },
                        {
                            "label": "Final PageRank for A",
                            "formula": "PR(A) = 0.15 + 0.8925 = 1.0425"
                        }
                    ],
                    "input": "PR(B):0.5, PR(C):0.8, d:0.85",
                    "output": "PR(A): 1.0425"
                }
            },
            "subTopics": [
                {
                    "title": "Deep Dive: The Random Surfer Model",
                    "content": "Why is the damping factor (d) 0.85? It represents the average person's patience before they get bored and type a new URL (Uniform Resource Locator).",
                    "subSubTopics": [
                        {
                            "title": "Dangling Links",
                            "content": "What happens when a page has no out-links? It becomes a 'rank sink'. PageRank handles this by assuming the surfer jumps to a random page.",
                            "keyPoints": [
                                "Prevents loss of rank from the system.",
                                "Ensures the transition matrix is stochastic."
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "slideNumber": 3,
            "type": "standard",
            "title": "HITS (Hubs and Authorities)",
            "content": {
                "definition": "A query-dependent link analysis algorithm by Jon Kleinberg.",
                "text": "1. Authorities: High-quality sources on a topic. 2. Hubs: Pages that point to many good authorities (e.g. curated lists).",
                "hook": "A good hub points to good authorities, and a good authority is pointed to by many good hubs."
            },
            "formula": {
                "equation": "\\begin{aligned} a(p) &= \\sum_{q \\in B_p} h(q) \\\\ h(p) &= \\sum_{q \\in F_p} a(q) \\end{aligned}",
                "description": "HITS (Hyperlink-Induced Topic Search) computes two mutually reinforcing scores - authority and hub values - that converge through iterative updates.",
                "terms": [
                    {
                        "symbol": "a(p)",
                        "meaning": "Authority score of page p - measures quality as a content source"
                    },
                    {
                        "symbol": "h(p)",
                        "meaning": "Hub score of page p - measures quality as a link aggregator/curator"
                    },
                    {
                        "symbol": "B_p",
                        "meaning": "Backlink set - all pages that link TO page p (incoming links)"
                    },
                    {
                        "symbol": "F_p",
                        "meaning": "Forward link set - all pages that p links TO (outgoing links)"
                    },
                    {
                        "symbol": "\\sum_{q \\in B_p} h(q)",
                        "meaning": "Authority = sum of hub scores of pages linking to p (good hubs increase authority)"
                    },
                    {
                        "symbol": "\\sum_{q \\in F_p} a(q)",
                        "meaning": "Hub = sum of authority scores of pages p links to (pointing to authorities makes you a hub)"
                    }
                ],
                "calculation": {
                    "exampleTitle": "HITS Update Cycle",
                    "description": "A single update step for a page P in the Base Set.",
                    "steps": [
                        {
                            "label": "Authority Score Update",
                            "formula": "a(p) = \\sum h(q) = 0.9 + 0.6 = 1.5",
                            "note": "Summing hub scores of pages linking TO p."
                        },
                        {
                            "label": "Hub Score Update",
                            "formula": "h(p) = \\sum a(q) = 0.8 + 0.7 = 1.5",
                            "note": "Summing authority scores of pages p links TO."
                        },
                        {
                            "label": "Normalization",
                            "formula": "\\text{New Scores} = \\frac{\\text{Score}}{\\sqrt{\\sum \\text{Score}^2}}",
                            "note": "Scores are scaled back to [0, 1] range."
                        }
                    ],
                    "input": "H1:0.9, H2:0.6 (linking to), A1:0.8, A2:0.7 (linked by)",
                    "output": "Authority: 1.5, Hub: 1.5 (unnormalized)"
                }
            },
            "subTopics": [
                {
                    "title": "Iterative Convergence",
                    "content": "HITS is an iterative algorithm. In each step, authority and hub scores are updated and normalized until they stabilize.",
                    "subSubTopics": [
                        {
                            "title": "The Root Set and Base Set",
                            "content": "Unlike PageRank which is global, HITS starts with a 'Root Set' of pages matching the query, then expands to a 'Base Set' by adding linked pages.",
                            "examples": [
                                "Search 'Jaguar' -> Get 200 docs (Root Set).",
                                "Include pages they link to and pages linking to them -> 5000 docs (Base Set)."
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "slideNumber": 4,
            "type": "diagram",
            "title": "Link Analysis & PageRank Flow",
            "content": {
                "description": "How graph weights propagate through links.",
                "steps": [
                    "Fetch Content Matches",
                    "Expand to Link Neighbors",
                    "Score Hubs & Authorities",
                    "Iterate PageRank Weights",
                    "Produce Authoritative Rank"
                ]
            }
        },
        {
            "slideNumber": 5,
            "type": "activity",
            "title": "Activity: Influence Sketch",
            "content": {
                "activity": "The Power of Links",
                "description": "Draw 4 websites (A, B, C, D). A links to B and C. B links to C. D links to A. Using the PageRank logic, which site is likely to be the most 'important'? What happens if C links back to D?"
            }
        },
        {
            "slideNumber": 6,
            "type": "quiz",
            "title": "Topic Quiz",
            "questions": [
                "What is the difference between an 'Authority' and a 'Hub'?",
                "How does the 'Random Surfer' model relate to PageRank?",
                "Is PageRank query-dependent or global?",
                "What is a 'damping factor' in PageRank?"
            ]
        },
        {
            "slideNumber": 7,
            "type": "python_demo",
            "title": "Python Demo: XML Structural Query",
            "content": {
                "code": "def search_xml(node, tag, content):\n    results = []\n    if node['tag'] == tag and content in node['text']:\n        results.append(node['id'])\n    for child in node.get('children', []):\n        results.extend(search_xml(child, tag, content))\n    return results\n\nroot = {\"tag\": \"book\", \"text\": \"\", \"id\": 0, \"children\": [\n    {\"tag\": \"title\", \"text\": \"Intro to IR\", \"id\": 1},\n    {\"tag\": \"content\", \"text\": \"vectors...\", \"id\": 2}\n]}\n\nprint(f\"Title Match: {search_xml(root, 'title', 'IR')}\")",
                "input": "Tag: 'title', Content: 'IR'",
                "output": "Title Match: [1]",
                "interpretation": "XML (eXtensible Markup Language) retrieval allows 'Fielded' searching.\nInstead of searching the whole document, we specify tags like <title>.\nThis structural information provides higher precision than flat-text search."
            }
        },
        {
            "slideNumber": 8,
            "type": "research_perspective",
            "title": "Research Perspective: Eigenvectors & Markov Chains",
            "content": {
                "researchQuestions": [
                    {
                        "question": "The Markovian Assumption: Do real users actually behave like random surfers with no memory?",
                        "answer": "PageRank assumes a memoryless (Markovian) process where the next page depends only on the current one. Research in 'Higher-Order Markov Chains' suggests that browsing is path-dependent (e.g., a user's previous 3 pages determine their next click). However, the standard PageRank transition matrix remains the benchmark due to its unique convergence property to a stationary distribution."
                    },
                    {
                        "question": "Topic-Sensitive PageRank: Can we bias the global rank to favor a specific user's expertise?",
                        "answer": "Global PageRank is query-independent. Research in 'Personalized PageRank' (PPR) modifies the teleportation vector $(1-d)$ such that the surfer doesn't jump to a random page, but to a set of pages preferred by the user. Mathematically, this shifts the steady-state probability distribution to favor the local neighborhood of the user's interest."
                    }
                ],
                "mathematicalModeling": {
                    "problemStatement": "Modeling the Web Graph as a Transition Matrix and solving for its Stationary Distribution.",
                    "derivation": [
                        {
                            "step": "Define the Google Matrix M as a combination of the link transition matrix T and the teleportation matrix E.",
                            "equation": "M = d T + (1-d) E",
                            "interpretation": "M ensures the graph is 'Irreducible' and 'Aperiodic', which are necessary conditions for a unique solution."
                        },
                        {
                            "step": "Identify the PageRank vector $\\pi$ as the principal eigenvector of matrix M.",
                            "equation": "\\pi = \\pi M",
                            "interpretation": "The 'Steady State' is reached when further browsing doesn't change the probability of being on any given page. This is the Page Rank."
                        },
                        {
                            "step": "Solve using the Power Iteration method.",
                            "equation": "\\vec{x}_{k+1} = M^T \\vec{x}_k",
                            "interpretation": "Repeatedly multiplying the probability vector by the transition matrix converges to the dominant eigenvector at a rate determined by the second eigenvalue $\\lambda_2$."
                        }
                    ],
                    "conclusion": "Link analysis proves that the 'Utility' of a node in a network is a global property determined by its structural centrality, transforming IR from a local word-counting task into a global graph-theory problem."
                }
            }
        },
        {
            "slideNumber": 9,
            "type": "summary",
            "title": "Course Wrap-up",
            "content": {
                "text": "Congratulations! You have completed the full course on B22EQ0601: Information Retrieval Systems.",
                "nextTopic": "Final Assessment",
                "preparation": "Review all 4 units for the comprehensive exam."
            }
        }
    ]
}